# code: language=ansible
---
# common settings
target_host: kube-2 # gitlab.devops.p2w3
uid: 1001
base_domain_name: infra.sololab

## freeipa
FreeIPA_pod_state: absent # absent / present
FreeIPA_pod_absent_force: true # true / false
FreeIPA_kube_file: /KubeWorkShop/FreeIPA/aio-freeipa.yaml
FreeIPA_domain_name: infra.sololab
FreeIPA_realm: infra.sololab
FreeIPA_ds_password: P@ssw0rd
FreeIPA_admin_password: P@ssw0rd
FreeIPA_dns_forwarder: 192.168.255.1
FreeIPA_tsig_algorithm: "hmac-sha256"
FreeIPA_tsig_secret: "j/2DR2zkVAyDHL2XjE731sMt9s6cmRhXE6niScAgHA0="
FreeIPA_container_hostname: "ipa.infra.sololab"
FreeIPA_container_hostIP: 192.168.255.11
FreeIPA_container_image: "quay.io/freeipa/freeipa-server:centos-9-stream-4.10.2"

## traefik
Traefik_pod_state: present # absent / present
Traefik_pod_absent_force: true # true / false
Traefik_systemd_service: traefik
Traefik_kube_file: /KubeWorkShop/Traefik/aio-traefik.yaml.j2
Traefik_container_image: docker.io/library/traefik:v2.10
Traefik_container_hostIP:

# Root_CA_Cert:
Traefik_ACME_enabled: false
Traefik_ACME_URL: https://acme-v02.api.letsencrypt.org/directory
Traefik_ACME_email:

Traefik_ingress_file: /KubeWorkShop/Traefik/conf/dynamic/traefik-dashboard.yaml.j2
Traefik_subdomain: traefik

## gitlab
GitLab_pod_state: absent # absent / present
GitLab_pod_absent_force: true # true / false
GitLab_systemd_service: gitlab

GitLab_kube_file: /KubeWorkShop/GitLab/aio-gitlab.yaml
# dont use gitlab-ce:16.1.x
# https://gitlab.com/gitlab-org/omnibus-gitlab/-/issues/7823
GitLab_container_image: "docker.io/gitlab/gitlab-ce:15.11.9-ce.0"
GitLab_external_url: http://gitlab.sololab

GitLab_ingress_file: /KubeWorkShop/GitLab/traefik-gitlab.yaml.j2
GitLab_subdomain: git

GitLab_container_name: gitlab-gitlab